<!DOCTYPE html>
<html lang="">

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">

    
      <link rel="icon" href="/NCTU-Coursenote/shell.png">
    

    <title>
        
          NCTU-Coursenote
        
    </title>

    <!-- Spectre.css framework (v0.5.8) -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- Noto Sans TC -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC" rel="stylesheet">

    <!-- theme css & js -->
    <link rel="stylesheet" href="/NCTU-Coursenote/css/spectre_custom.css">
    <link rel="stylesheet" href="/NCTU-Coursenote/css/book.css">
    <script src="/NCTU-Coursenote/js/book.js"></script>

    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- lightgallery.js -->
    
      <script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/css/lightgallery.min.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/js/lightgallery-all.min.js"></script>
    
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
</head>

<body>

<div class="container">
  <div class="book-container">
    <div class="columns">
      <div class="column col-2 book-sidebar">
          <h4 class="site-meta">
    <a href="/NCTU-Coursenote/">NCTU-Coursenote</a>
</h4>

<div class="sidebar-content">
    <ul>
<li><a href="/NCTU-Coursenote">首頁</a></li>
<li>大一</li>
<li>大二
<ul>
<li><a href="/NCTU-Coursenote/1072-intro-to-formal-language">正規語言概論</a></li>
<li><a href="/NCTU-Coursenote/1072-intro-to-dbms">資料庫系統概論</a></li>
<li><a href="/NCTU-Coursenote/1072-computer-organization">計算機組織</a></li>
<li><a href="/NCTU-Coursenote/1072-signals-and-systems">訊號與系統</a></li>
<li><a href="/NCTU-Coursenote/1072-intro-to-music-theory">音樂理論導論</a></li>
<li><a href="/NCTU-Coursenote/1072-compiler-design">編譯器設計</a></li>
</ul>
</li>
<li>大三</li>
<li>大四</li>
<li>網路相關
<ul>
<li><a href="/NCTU-Coursenote/network-associate/landesign">LAN Design</a></li>
<li>Layer 2
<ul>
<li><a href="/NCTU-Coursenote/network-associate/layer2/vlan">VLAN</a></li>
<li><a href="/NCTU-Coursenote/network-associate/layer2/vtp">VTP</a></li>
<li><a href="/NCTU-Coursenote/network-associate/layer2/stp">STP</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>

<script>
document.querySelectorAll('.sidebar-content a').forEach(function(item){ 
    if(item.href === window.location.href || item.href === window.location.href.slice(0, -1)) {
        item.className = "book-sidebar-current"
    }
})
</script>
      </div>

      <div class="column col-10">
        <div class="book-content">
          <div class="columns">
  <div class="column col-10">
    <div class="book-post">
      <h1 id="lan-design">LAN Design</h1>
<h2 id="introduction">Introduction</h2>
<p>建置網路不是只有簡單的配線、接線工程，還有包含很多其他議題；scaling, redundancy, protection, load balance…也同樣重要。</p>
<p>Campus local area network (園區區域網路) 的設計可以從簡單的一台 switch 的設定到支援多棟大樓、教室、辦公室等的大型網路。</p>
<p>本章將探討如何有系統的設計及選擇建置網路的策略。</p>
<h2 id="園區有線網路設計">園區有線網路設計</h2>
<h3 id="擴展網路的需求">擴展網路的需求</h3>
<p>當一個企業不斷成長，雇用更多的員工、開設分公司、擴展到全球企業，這些關鍵因素都會直接影響到網路的設計以及擴展性。</p>
<p>一個好的企業網路需要有：</p>
<ul>
<li>使 critical applications 能穩定運作</li>
<li>支援 converged network (combination of data, voice and video traffic)</li>
<li>支援分散的企業服務</li>
<li>集中管理網路設備</li>
</ul>
<p>園區網路的設計往往包含分散在不同地理位置的許多小型網路(許多LAN)。</p>
<h3 id="階層式網路架構">階層式網路架構</h3>
<p>階層式網路架構通常包含三層：</p>
<ul>
<li>Access layer</li>
<li>Distribution layer</li>
<li>Core layer</li>
</ul>
<p>每個 layer 各司其職：</p>
<ul>
<li>Access layer 提供 endpoint 使使用者連結到網路</li>
<li>Distribution layer 聚合 access layer 並提供與各 service 間的連接</li>
<li>Core layer 為整個 LAN 提供 distribution layer 的連接</li>
</ul>
<p>有些小型企業將 Distribution layer 和 Core layer 結合，以節省成本與複雜度。</p>
<h3 id="擴展網路">擴展網路</h3>
<h4 id="scalability">Scalability</h4>
<ul>
<li>使用可擴展、模組化的設備，在升級時不會動到主服務</li>
<li>使用 clustered devices，簡化管理及設定的複雜度</li>
<li>使用階層式網路架構</li>
<li>對 IP 做好管理，減少重新分配 IP 的問題</li>
<li>選擇 router 或 multilevel switch，減少 broadcast，並過濾掉不想要的封包</li>
</ul>
<p>進階需求</p>
<ul>
<li>在 criical service 間及 access layer 及 core layer 間做 network redundant</li>
<li>使用 etherchannel 提高 bandwidth 及 loadbalance</li>
<li>選擇合適的路由協定，減少更新路由表並縮小路由表的大小</li>
<li>無線網路</li>
</ul>
<h4 id="redundency">Redundency</h4>
<ul>
<li>Redundant device: 安裝重複的設備並提供網路連線失敗時接管的功能</li>
<li>Redundant path: 當網路連線失敗時，走另一條 physical path</li>
</ul>
<p>Redundant path 在 switch 中可能導致 Layer 2 loops，於是便需要使用 <a href="/NCTU-Coursenote/network-associate/layer2/stp">STP</a> 來解決這個問題。(簡單來說就是 redundant path 只有在需要的時候才通，不需要時 disable)</p>
<h4 id="failure-domains">Failure Domains</h4>
<p>Failure domain: 當 critical device 或 network service 有錯誤時造成的影響範圍</p>
<p>一個好的網路架構也要有較小的 failure fomain，減少網路錯誤時對用戶的影響。</p>
<h4 id="提升-bandwidth">提升 Bandwidth</h4>
<p>bandwidth 太小可能造成瓶頸，使用 etherchannel 將多個實體 interface 結合成一個邏輯的 interface。</p>
<h4 id="擴展-access-layer">擴展 Access Layer</h4>
<p>提供無線網路</p>
<h4 id="選擇-routing-protocal">選擇 Routing Protocal</h4>
<p>OSPF/EIGRP</p>
<h2 id="選擇網路設備">選擇網路設備</h2>
<h3 id="switch">Switch</h3>
<ul>
<li>Campus LAN Switches
<ul>
<li>提供 3 個 Layer</li>
<li>Cisco 2960, 3560, 3650, 3850, 4500, 6500, 6800</li>
</ul>
</li>
<li>Cloud-Managed Switches
<ul>
<li>Cisco Meraki</li>
</ul>
</li>
<li>Data Center Switches
<ul>
<li>Cisco Nexus, Cisco 6500</li>
</ul>
</li>
<li>Service Provider Switches
<ul>
<li>Aggregation switches: aggregate edge traffic</li>
<li>Ethernet access switches</li>
</ul>
</li>
<li>Virtual Networking
<ul>
<li>Cisco Nexus</li>
</ul>
</li>
</ul>
<p>考慮：</p>
<ul>
<li>Port Density</li>
<li>Forwarding Rates
<ul>
<li>switch 一秒可以處理多少資料</li>
<li>100Mb/s, 1Gb/s, 10Gb/s, 100Gb/s</li>
</ul>
</li>
<li>Power over Ethernet
<ul>
<li>提供電力給裝置</li>
<li>e.g. IP phone, wireless access points</li>
</ul>
</li>
<li>Multilayer Switching
<ul>
<li>通常部屬在 core/distribution layer</li>
</ul>
</li>
</ul>
<h3 id="router">Router</h3>
<p>為什麼需要 Router：</p>
<ul>
<li>連結不同區域的網路 (e.g. 公司到家裡、公司內部的不同區域)</li>
<li>提供 Redundant path</li>
<li>連結 ISP</li>
<li>轉換不同介面的封包 (e.g. ethernet to serial network)</li>
</ul>
<p>Cisco Router 主要分三類：</p>
<ul>
<li>Branch Routers
<ul>
<li>optimize branch service on a single platform while delivering an optimal application experience accross branch and WAN infrastructure.</li>
</ul>
</li>
<li>Network Edge Routers
<ul>
<li>enable the network edge to deliver high-performance, highly secure, and reliable services that unite campus, data center, and branch network.</li>
</ul>
</li>
<li>Service Provider Routers
<ul>
<li>differentiate the service portfolio and increase revenues by delivering end-to-end scalable solutions and subscriber-aware service.</li>
</ul>
</li>
</ul>
<h2 id="summary">Summary</h2>
<ul>
<li>階層式網路分為 Access layer、Distribution layer、Core layer，每個 layer 各司其職</li>
<li>一個設計良好的網路有
<ul>
<li>小的 failure domain (Router 與 Switch 成對部署，當一個設備壞掉時不會使整個服務癱瘓)</li>
<li>IP 分配規則</li>
<li>可擴展性</li>
<li>合適的協定</li>
<li>模組化 / 叢集化</li>
</ul>
</li>
<li>重要的服務應該要有 redundency</li>
</ul>

    </div>
    
      
    <div id="disqus_thread"></div>
    <script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://at881005.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    
  </div>
  <div class="column col-2">
    <div class="book-toc">
  <div class="book-tocbot">
  </div>
  <div class="book-tocbot-menu">
    <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
    <a onclick="go_top()">Back to top</a>
    <a onclick="go_bottom()">Go to bottom</a>
  </div>
</div>

<script>
tocbot.init({
  tocSelector: '.book-tocbot',
  contentSelector: '.book-post',
  headingSelector: 'h1, h2, h3, h4, h5',
  collapseDepth: 2,
  orderedList: false,
  scrollSmooth: false,
});

function expand_toc(){
  var b = document.querySelector(".book-toc-expand");
  tocbot.init({
    tocSelector: '.book-tocbot',
    contentSelector: '.book-post',
    headingSelector: 'h1, h2, h3, h4, h5',
    collapseDepth: 6,
    orderedList: false,
    scrollSmooth: false,
  });
  b.setAttribute("onclick", "collapse_toc()");
  b.innerHTML = "Collapse all"
}

function collapse_toc(){
  var b = document.querySelector(".book-toc-expand");
  tocbot.init({
    tocSelector: '.book-tocbot',
    contentSelector: '.book-post',
    headingSelector: 'h1, h2, h3, h4, h5',
    collapseDepth: 2,
    orderedList: false,
    scrollSmooth: false,
  });
  b.setAttribute("onclick", "expand_toc()");
  b.innerHTML = "Expand all"
}

function go_top() {
  window.scrollTo(0, 0);
}

function go_bottom() {
  window.scrollTo(0, document.body.scrollHeight);
}

</script>
  </div>
</div>


  
  <script>
    $('.book-content img').each(function () {
        $(this).wrap("<a href='" + this.src + "'>").parent('a').addClass('gallery-item');
    })
    $(document).ready(function() {
      $(".book-content").lightGallery({
          selector: '.gallery-item'
      });
    });
  </script>



<script src="/NCTU-Coursenote/js/book-post.js"></script>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
